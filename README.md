# TG Media Bot (FastAPI + aiogram 3.x)

## –ß—Ç–æ —É–º–µ–µ—Ç
- üé• –í–∏–¥–µ–æ ‚Üí üé§ –ì–æ–ª–æ—Å
- üîµ –ö—Ä—É–∂–æ–∫ ‚Üí üé§ –ì–æ–ª–æ—Å
- üé§ –ì–æ–ª–æ—Å ‚Üí üéµ MP3
- üéµ –ê—É–¥–∏–æ ‚Üí üé§ –ì–æ–ª–æ—Å
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ —Ä–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–∞ (MAX_FILE_MB, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 18)

> –¢—Ä–µ–±—É–µ—Ç—Å—è `ffmpeg` –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏. –ù–∞ Render –æ–±—ã—á–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ apt, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π –æ–±—Ä–∞–∑ –∏–ª–∏ –≤–Ω–µ—à–Ω—é—é —Å–±–æ—Ä–∫—É, –ª–∏–±–æ –ø–æ—Å—Ç–∞–≤—å—Ç–µ —Å—Ç–∞—Ç–∏–∫—É. –ï—Å–ª–∏ ffmpeg –Ω–µ—Ç ‚Äî –±–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–æ–±—â–∏—Ç –æ–± —ç—Ç–æ–º.

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
- `WEBHOOK_URL` ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π URL —Å–µ—Ä–≤–∏—Å–∞ (https://your-app.onrender.com)
- `SECRET_TOKEN` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Å–µ–∫—Ä–µ—Ç–æ–º –≤ setWebhook
- `MAX_FILE_MB` ‚Äî –ª–∏–º–∏—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ –≤ –º–µ–≥–∞–±–∞–π—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 18)

## –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ
```
python -m venv .venv
. .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
export BOT_TOKEN=... WEBHOOK_URL=http://localhost:10000  # –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ –∑–∞–¥–∞–≤–∞—Ç—å
uvicorn app.main:app --reload --port 10000
```

## Render (render.yaml)
- –ü–æ–¥–∫–ª—é—á–∏ —Ä–µ–ø–æ, –≤—ã–±–µ—Ä–∏ **Web Service**
- Build: `pip install -r requirements.txt`
- Start: `./start.sh`
- –î–æ–±–∞–≤—å env vars: BOT_TOKEN, WEBHOOK_URL, SECRET_TOKEN (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ), MAX_FILE_MB
